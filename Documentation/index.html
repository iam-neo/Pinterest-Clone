<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinterest Gallery Documentation</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <aside>
        <div class="logo">
            <img src="../public/images/logo/logo.png" alt="Logo" style="height:32px;">
            <span>Docs</span>
        </div>
        <nav>
            <ul>
                <li><a href="#introduction" class="active">Introduction</a></li>
                <li><a href="#structure">Project Structure</a></li>
                <li><a href="#how-it-works">How Code Works</a></li>
                <li><a href="#customization">Manage Images</a></li>
                <li><a href="#components">Modifying Code</a></li>
                <li><a href="#code-walkthrough">Code Walkthrough</a></li>
                <li><a href="#deployment">Deployment</a></li>
                <li><a href="#changelog">Changelog</a></li>
            </ul>
        </nav>
    </aside>

    <main>
        <section id="introduction">
            <h1>Pinterest-Style Gallery Documentation</h1>
            <p>Welcome to the comprehensive documentation for your premium React Masonry Gallery. This project mimicks
                Pinterest's dynamic grid layout and features a beautiful, responsive UI.</p>

            <div class="note">
                <strong>Tech Stack:</strong> React 18, Vite, CSS Modules, Vanilla JS.
            </div>
        </section>

        <section id="structure">
            <h2>ğŸ“‚ Project Structure</h2>
            <div class="tree">
                gallery/<br>
                â”œâ”€â”€ public/<br>
                â”‚ â”œâ”€â”€ images/ (Source images)<br>
                â”‚ â”‚ â””â”€â”€ logo/ (Brand assets)<br>
                â”‚ â””â”€â”€ _redirects (Netlify routing)<br>
                â”œâ”€â”€ src/<br>
                â”‚ â”œâ”€â”€ components/ (UI Building Blocks)<br>
                â”‚ â”œâ”€â”€ hooks/ (Layout Logic)<br>
                â”‚ â””â”€â”€ utils/ (Data Configuration)<br>
                â”œâ”€â”€ Documentation/ (You are here)<br>
                â””â”€â”€ netlify.toml (Build config)<br>
            </div>
        </section>

        <section id="how-it-works">
            <h2>âš™ï¸ How Code Works</h2>
            <h3>The Masonry Layout</h3>
            <p>Unlike standard CSS grids, this project uses a specialized hook <code>useMasonry.js</code>. It calculates
                the height of each column and places the next image into the <strong>shortest column</strong> available.
                This eliminates gaps and creates that signature "staggered" Pinterest look.</p>

            <h3>Data Management</h3>
            <p>We do not use a complex backend. Instead, we map local files to a JavaScript object in
                <code>customImages.js</code>. This acts as our "database".
            </p>

            <h3>Related Images Logic</h3>
            <p>When you open an image, the system automatically finds other pictures that share the same
                <strong>tags</strong>.
                This logic happens inside <code>Modal.jsx</code> by filtering the global image list. The results are
                displayed
                in a "More like this" grid at the bottom of the modal, keeping users engaged.
            </p>
        </section>

        <section id="customization">
            <h2>ğŸ–¼ï¸ How to Change Images</h2>
            <p>To add or modify images, follow these simple steps:</p>

            <h3>1. Add Files</h3>
            <p>Drop your <code>.jpg</code> or <code>.png</code> files into the <code>public/images/</code> folder.</p>

            <h3>2. Register Image</h3>
            <p>Open <code>src/utils/customImages.js</code> and add a new entry:</p>
            <pre><code>{
  id: 'new-img-1',
  url: '/images/your-photo.jpg',
  width: 800,   // Approximate width
  height: 600,  // Approximate height
  title: 'My Custom Title',
  description: 'Description for the modal...',
  user: neoUser // Points to the shared 'Neo' user
}</code></pre>

            <strong>Tip:</strong> You can change the global user (Name/Avatar) by editing the <code>neoUser</code>
            object at the top of <code>customImages.js</code>. <br>
            <strong>Important:</strong> Ensure you add relevant <code>tags</code> to your images. The "Related Images"
            feature uses these tags to find and display similar photos.
            </div>
        </section>

        <section id="components">
            <h2>ğŸ› ï¸ How to Modify Code</h2>

            <h3>Visual & Styling</h3>
            <p>Global styles are in <code>src/index.css</code>. This file controls:</p>
            <ul>
                <li>Color variables (<code>--color-primary</code>)</li>
                <li>Fonts and typography</li>
                <li>Card hover animations</li>
            </ul>

            <h3>Components</h3>
            <ul>
                <li><strong>Header.jsx:</strong> Top navigation and Search bar.</li>
                <li><strong>MasonryGrid.jsx:</strong> Calculates columns and renders the grid.</li>
                <li><strong>ImageCard.jsx:</strong> Individual image item.</li>
                <li><strong>Modal.jsx:</strong> The popup lightbox showing full details.</li>
            </ul>
        </section>

        <section id="code-walkthrough">
            <h2>ğŸ’» Code Walkthrough</h2>
            <p>Here is a deep dive into the core logic of the application.</p>

            <h3>Filtering Logic (App.jsx)</h3>
            <p>The <code>App.jsx</code> defines the filtering mechanism using <code>Array.filter()</code>. It checks if
                the search query matches either any tag or the user's name.</p>
            <pre><code>const filteredImages = images.filter(img =>
    img.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())) ||
    img.user.name.toLowerCase().includes(searchQuery.toLowerCase())
)</code></pre>

            <h3>The Modal & Related Images (Modal.jsx)</h3>
            <p>The modal handles displaying the selected image. The "Related Images" feature works by filtering the
                global <code>customImages</code> list for items that share at least one tag with the current image.</p>
            <pre><code>// Filter related images based on usage tags
const relatedImages = customImages.filter((img) => 
    img.id !== image.id && 
    img.tags.some((tag) => image.tags.includes(tag))
);</code></pre>
            <p>We then render this list using the <code>MasonryGrid</code> component at the bottom of the modal,
                ensuring a consistent layout.</p>

            <h3>Responsive Masonry Grid (MasonryGrid.jsx)</h3>
            <p>The grid automatically adjusts the number of columns based on the window width using a
                <code>resize</code> event listener.
            </p>
            <pre><code>const handleResize = () => {
    const width = window.innerWidth;
    if (width < 600) setColumnCount(2);       // Mobile
    else if (width < 900) setColumnCount(3);  // Tablet
    else if (width < 1200) setColumnCount(4); // Small Desktop
    else setColumnCount(5);                   // Large Desktop
};</code></pre>
        </section>

        <section id="deployment">
            <h2>ğŸš€ Deployment</h2>
            <p>This project is optimized for <strong>Netlify</strong>.</p>

            <h3>Important Files</h3>
            <ul>
                <li><code>netlify.toml</code>: Tells Netlify to build using <code>npm run build</code>.</li>
                <li><code>public/_redirects</code>: Prevents "Page Not Found" errors on refresh.</li>
                <li><code>.gitignore</code>: Ensures system files don't break the Linux build server.</li>
            </ul>

            <h3>How to Update Live Site</h3>
            <ol>
                <li>Run <code>npm run build</code> in your terminal.</li>
                <li>This creates a <strong>dist</strong> folder.</li>
                <li>Drag & drop the <strong>dist</strong> folder to your Netlify dashboard.</li>
            </ol>
        </section>

        <section id="changelog">
            <h2>ğŸ“œ Changelog</h2>
            <ul>
                <li>
                    <strong>v1.1.0 - Related Images Feature</strong><br>
                    - Added "More like this" section to the image modal.<br>
                    - Updated <code>Modal.jsx</code> to filter images by tags.<br>
                    - Expanded documentation with detailed code walkthroughs.
                </li>
            </ul>
        </section>
    </main>

    <script src="script.js"></script>
</body>

</html>